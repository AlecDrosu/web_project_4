!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=n}var n,r;return n=t,(r=[{key:"_checkIfInputValid",value:function(e){return e.validity.valid}},{key:"_checkInputValidity",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));this._checkIfInputValid(e)?(e.classList.remove(this._inputErrorClass),t.innerText="",t.classList.remove(this._errorClass)):(e.classList.add(this._inputErrorClass),t.innerText=e.validationMessage,t.classList.add(this._errorClass))}},{key:"_toggleButtonState",value:function(e,t){var n=this;e.every((function(e){return n._checkIfInputValid(e)}))?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"_setupEventListeners",value:function(){var e=this,t=Array.from(this._formEl.querySelectorAll(this._inputSelector)),n=this._formEl.querySelector(this._submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))})),this._toggleButtonState(t,n)}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setupEventListeners()}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=t.title,this._image=t.image,this._handleCardClick=r,this._cardSelector=n}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setupEventListeners",value:function(){var e=this;this._element.querySelector(".element__img").addEventListener("click",(function(){return e._handleCardClick({name:e._title,link:e._image})})),this._element.querySelector(".element__trash").addEventListener("click",(function(){return e._handleDelete()})),this._element.querySelector(".text__heart").addEventListener("click",(function(){return e._handleLike()}))}},{key:"_handleLike",value:function(){this._element.querySelector(".text__heart").classList.toggle("text__heart_active")}},{key:"_handleDelete",value:function(){this._element.remove()}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setupEventListeners(),this._element.querySelector(".text__label").textContent=this._title,this._element.querySelector(".element__img").src=this._image,this._element.querySelector(".element__img").alt=this._title,this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.userNameSelector,r=t.userJobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userJob=document.querySelector(r),this._userAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._userName.textContent=t,this._userJob.textContent=n}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._userAvatar.src=t}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleKeyDown=this._handleKeyDown.bind(this)}var t,n;return t=e,(n=[{key:"_handleKeyDown",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("modal__overlay")||t.target.classList.contains("modal__close-btn"))&&e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("modal_is-open"),document.addEventListener("keydown",this._handleKeyDown)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_is-open"),document.removeEventListener("keydown",this._handleKeyDown)}}])&&a(t.prototype,n),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(){return l(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._image=this._popupElement.querySelector(".modal__img"),this._caption=this._popupElement.querySelector(".modal__caption").textContent=n,this._image.src=t,this._image.alt=n,f(h(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),a}(u);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},v(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function S(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.handleFormSubmit,r=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,r))._handleFormSubmit=n,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this._popupElement.querySelectorAll(".form__input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"_handleSubmit",value:function(){this._handleFormSubmit(this._getInputValues())}},{key:"setEventListeners",value:function(){v(g(a.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".form").addEventListener("submit",this._handleSubmit.bind(this))}},{key:"close",value:function(){v(g(a.prototype),"close",this).call(this),this._popupElement.querySelector(".form").reset()}}])&&m(t.prototype,n),a}(u);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},O(e,t,n||e)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function C(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(r);if(o){var n=L(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return C(this,e)});function a(e){var t,n=e.handleConfirm,r=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,r))._handleConfirm=n,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;O(L(a.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".form__submit").addEventListener("click",(function(){e._handleConfirm(),e.close()}))}}])&&k(t.prototype,n),a}(u);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&P(t.prototype,n),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.baseUrl,r=t.cardUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._cardUrl=r,this._headers=o}var t,n;return t=e,(n=[{key:"getCards",value:function(){return fetch(this._cardUrl,{headers:this._headers}).then((function(e){return e.ok?e.json():new Promise.reject("Error: ".concat(e.status))}))}},{key:"createCard",value:function(e){return fetch(this._cardUrl,{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){var t=e.cardId;return fetch("".concat(this._cardUrl,"/").concat(t),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}},{key:"editProfile",value:function(e){var t=e.name,n=e.about;return fetch(this._baseUrl,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:n})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}])&&T(t.prototype,n),e}(),x=document.querySelector(".title__button"),B=document.querySelector(".modal_type_edit"),U=document.querySelector(".modal_type_add"),D=B.querySelector(".form"),V=U.querySelector(".form"),A=document.querySelector(".modal_type_edit-pic").querySelector(".form"),N=document.querySelector("#list-title"),J=document.querySelector("#list-subtitle"),F=document.querySelector("#image-url"),K=V.querySelector(".form__input_type_title"),z=V.querySelector(".form__input_type_image-url"),H=document.querySelector(".profile__button"),M=(document.querySelector(".element__trash"),document.querySelector(".profile__avatar_edit")),G=(document.querySelector(".profile__avatar"),new I({baseUrl:"https://around.nomoreparties.co/v1/group-11/users/me",cardUrl:"https://around.nomoreparties.co/v1/group-11/cards",headers:{authorization:"807a4335-951b-4493-9e81-0010a6738faf","Content-Type":"application/json"}}));G.getCards().then((function(e){console.log(e),e.forEach((function(e){te({title:e.name,image:e.link})}))}));var Q=new R({items:G.getCards(),renderer:function(e){return te(e)}},".elements");G.editProfile(N.value,J.value).then((function(e){W.setUserInfo({name:e.name,job:e.about}),W.setUserAvatar({avatar:e.avatar})}));var W=new i({userNameSelector:".title__name",userJobSelector:".info__job",avatarSelector:".profile__avatar"}),X=new E({popupSelector:".modal_type_edit",handleFormSubmit:function(){W.setUserInfo({name:N.value,job:J.value}),X.close()}}),Y=new q({popupSelector:".modal_type_confirm",handleConfirmClick:function(){deleteCard(cardId),Y.close()}});X.setEventListeners();var Z=new E({popupSelector:".modal_type_edit-pic",handleFormSubmit:function(){W.setUserAvatar({avatar:F.value}),Z.close()}});Z.setEventListeners();var $=new E({popupSelector:".modal_type_add",handleFormSubmit:function(){te({title:K.value,image:z.value}),$.close()}});$.setEventListeners(),x.addEventListener("click",(function(){var e=W.getUserInfo(),t=e.name,n=e.job;N.value=t,J.value=n,X.open()}));var ee=new _(".modal_type_preview");function te(e){var t=new r(e,"#elementTemplate",(function(e){ee.open(e)})).generateCard();Q.addItem(t)}ee.setEventListeners(),M.addEventListener("click",(function(){return Z.open()})),H.addEventListener("click",(function(){return $.open()}));var ne={inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"popup__error_visible"};new t(ne,V).enableValidation(),new t(ne,D).enableValidation(),new t(ne,A).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxNQUNoQjFDLE1BQU84RixFQUFTcEQsUUFFakJzRSxFQUFhakYsV0FzQmZpRixFQUFhRixvQkFJYjFCLEVBQWtCakcsaUJBQWlCLFNBQVMsV0FFM0MsTUFBc0JvSCxFQUFTVSxjQUF2QjFHLEVBQVIsRUFBUUEsS0FBTWdCLEVBQWQsRUFBY0EsSUFDZG1FLEVBQVVoRCxNQUFRbkMsRUFDbEJvRixFQUFhakQsTUFBUW5CLEVBRXJCbUYsRUFBY1EsVUFJZixJQUFNQyxHQUFhLElBQUloRixFQUFlLHVCQWdCdEMsU0FBU2lFLEdBQVc1QyxHQUNuQixJQUFNNEQsRUFBUyxJQUFJM0gsRUFBSytELEVBQU0sb0JBQW9CLFNBQUM2RCxHQUNsREYsR0FBV0QsS0FBS0csTUFDZEMsZUFDSGpCLEVBQVVrQixRQUFRSCxHQWpCbkJELEdBQVdMLG9CQU9YZCxFQUFpQjdHLGlCQUFpQixTQUFTLGtCQUFNNEgsRUFBZUcsVUFjaEVuQixFQUFRNUcsaUJBQWlCLFNBQVMsa0JBQU02SCxFQUFhRSxVQVlyRCxJQUFNTSxHQUF1QixDQUM1Qm5LLGNBQWUsZUFDZkUscUJBQXNCLGdCQUN0QkUsb0JBQXFCLHdCQUNyQkUsZ0JBQWlCLHlCQUNqQkUsV0FBWSx3QkFHWSxJQUFJYixFQUFjd0ssR0FBc0JoQyxHQUNoRGlDLG1CQUVTLElBQUl6SyxFQUFjd0ssR0FBc0JqQyxHQUNoRGtDLG1CQUVlLElBQUl6SyxFQUNwQ3dLLEdBQ0EvQixHQUV3QmdDLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuXHRjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbCkge1xyXG5cdFx0dGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG5cdFx0dGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcblx0XHR0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcblx0XHR0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG5cdFx0dGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG5cclxuXHRcdHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcclxuXHR9XHJcblxyXG5cdF9jaGVja0lmSW5wdXRWYWxpZChpbnB1dEVsKSB7XHJcblx0XHRyZXR1cm4gaW5wdXRFbC52YWxpZGl0eS52YWxpZDtcclxuXHR9XHJcblxyXG5cdF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG5cdFx0Y29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG5cdFx0aWYgKCF0aGlzLl9jaGVja0lmSW5wdXRWYWxpZChpbnB1dEVsKSkge1xyXG5cdFx0XHQvLyBzaG93IGVycm9yIG1lc3NhZ2UgYW5kIGFkZCBlcnJvciBjbGFzc1xyXG5cdFx0XHRpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdFx0ZXJyb3JFbC5pbm5lclRleHQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG5cdFx0XHRlcnJvckVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBoaWRlIGVycm9yIG1lc3NhZ2UgYW5kIHJlbW92ZSBpdFxyXG5cdFx0XHRpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuXHRcdFx0ZXJyb3JFbC5pbm5lclRleHQgPSBcIlwiO1xyXG5cdFx0XHRlcnJvckVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCkge1xyXG5cdFx0Y29uc3QgYWxsVmFsaWQgPSBpbnB1dExpc3QuZXZlcnkoKGlucHV0RWwpID0+XHJcblx0XHRcdHRoaXMuX2NoZWNrSWZJbnB1dFZhbGlkKGlucHV0RWwpXHJcblx0XHQpO1xyXG5cdFx0aWYgKCFhbGxWYWxpZCkge1xyXG5cdFx0XHQvLyBsb2NrXHJcblx0XHRcdGJ1dHRvbkVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcblx0XHRcdGJ1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIHVubG9ja1xyXG5cdFx0XHRidXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG5cdFx0XHRidXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X3NldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHRjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG5cdFx0XHR0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG5cdFx0KTtcclxuXHRcdGNvbnN0IGJ1dHRvbkVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuXHRcdGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcblx0XHRcdGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcblx0XHRcdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCk7XHJcblx0fVxyXG5cclxuXHRlbmFibGVWYWxpZGF0aW9uKCkge1xyXG5cdFx0dGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH0pO1xyXG5cdFx0Ly8gc2V0dXAgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgZm9ybSBmaWVsZHNcclxuXHRcdHRoaXMuX3NldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImNsYXNzIENhcmQge1xyXG5cdGNvbnN0cnVjdG9yKGNhcmQsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcblx0XHR0aGlzLl90aXRsZSA9IGNhcmQudGl0bGU7XHJcblx0XHR0aGlzLl9pbWFnZSA9IGNhcmQuaW1hZ2U7XHJcblx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcblxyXG5cdFx0dGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG5cdH1cclxuXHJcblx0X2dldFRlbXBsYXRlKCkge1xyXG5cdFx0Y29uc3QgY2FyZEVsID0gZG9jdW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG5cdFx0XHQuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRcIilcclxuXHRcdFx0LmNsb25lTm9kZSh0cnVlKTtcclxuXHRcdHJldHVybiBjYXJkRWw7XHJcblx0fVxyXG5cclxuXHRfc2V0dXBFdmVudExpc3RlbmVycygpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpXHJcblx0XHRcdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuXHRcdFx0XHR0aGlzLl9oYW5kbGVDYXJkQ2xpY2soeyBuYW1lOiB0aGlzLl90aXRsZSwgbGluazogdGhpcy5faW1hZ2UgfSlcclxuXHRcdFx0KTtcclxuXHRcdC8vIGRlbGV0ZSB0aGUgY2FyZCBmcm9tIHRoZSBET00gd2hlbiB3aGVuIHRoZSB1c2VyIGNvbmZpcm1zIHRoZSBkZWxldGlvbiBvZiB0aGUgY2FyZCBvbiB0aGUgcG9wdXBcclxuXHRcdHRoaXMuX2VsZW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIilcclxuXHRcdFx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGUoKSk7XHJcblxyXG5cdFx0dGhpcy5fZWxlbWVudFxyXG5cdFx0XHQucXVlcnlTZWxlY3RvcihcIi50ZXh0X19oZWFydFwiKVxyXG5cdFx0XHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2UoKSk7XHJcblx0fVxyXG5cclxuXHRfaGFuZGxlTGlrZSgpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dF9faGVhcnRcIilcclxuXHRcdFx0LmNsYXNzTGlzdC50b2dnbGUoXCJ0ZXh0X19oZWFydF9hY3RpdmVcIik7XHJcblx0fVxyXG5cclxuXHRfaGFuZGxlRGVsZXRlKCkge1xyXG5cdFx0dGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuXHR9XHJcblxyXG5cdGdlbmVyYXRlQ2FyZCgpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cdFx0dGhpcy5fc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHRcdHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZXh0X19sYWJlbFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG5cdFx0Ly8gc2V0IGltYWdlXHJcblx0XHR0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG5cdFx0Ly8gc2V0IGFsdFxyXG5cdFx0dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltZ1wiKS5hbHQgPSB0aGlzLl90aXRsZTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuXHRjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xyXG5cdFx0dGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5fdXNlckpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckpvYlNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuXHR9XHJcblxyXG5cdGdldFVzZXJJbmZvKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0bmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcblx0XHRcdGpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcblx0XHR0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcblx0XHR0aGlzLl91c2VySm9iLnRleHRDb250ZW50ID0gam9iO1xyXG5cdH1cclxuXHJcblx0c2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XHJcblx0XHR0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuXHR9XHJcbn1cclxuXHJcbi8vIFRoaXMudXNlcm5hbWUgaXMgdGhlIHNhbWUgYXMgbGlzdC10aXRsZVxyXG4vLyBUaGlzLnVzZXJKb2IgaXMgdGhlIHNhbWUgYXMgbGlzdC1zdWJ0aXRsZVxyXG5cclxuLy8gdXNlcm5hbWUgc2VsZWN0b3IgbmVlZHMgdG8gYmUgdGhlIHNhbWUgaXMgaW5mb1RpdGxlXHJcbi8vIHVzZXJKb2Igc2VsZWN0b3IgbmVlZHMgdG8gYmUgdGhlIHNhbWUgaXMgaW5mb1N1YnRpdGxlXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuXHRjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5faGFuZGxlS2V5RG93biA9IHRoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKTtcclxuXHR9XHJcblxyXG5cdF9oYW5kbGVLZXlEb3duKGV2dCkge1xyXG5cdFx0aWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX292ZXJsYXlcIikgfHxcclxuXHRcdFx0XHRldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idG5cIilcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdG9wZW4oKSB7XHJcblx0XHR0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX2lzLW9wZW5cIik7XHJcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVLZXlEb3duKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlKCkge1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuXCIpO1xyXG5cdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlS2V5RG93bik7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcblx0b3Blbih7IGxpbmssIG5hbWUgfSkge1xyXG5cdFx0dGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1nXCIpO1xyXG5cdFx0dGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFx0XHRcIi5tb2RhbF9fY2FwdGlvblwiXHJcblx0XHQpLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHRcdHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcblx0XHR0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xyXG5cdFx0c3VwZXIub3BlbigpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcblx0Y29uc3RydWN0b3IoeyBoYW5kbGVGb3JtU3VibWl0LCBwb3B1cFNlbGVjdG9yIH0pIHtcclxuXHRcdHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG5cdFx0dGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcblx0fVxyXG5cclxuXHRfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcblx0XHRjb25zdCB2YWx1ZXMgPSB7fTtcclxuXHRcdEFycmF5LmZyb20odGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIikpLmZvckVhY2goXHJcblx0XHRcdChpbnB1dCkgPT4ge1xyXG5cdFx0XHRcdHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdFx0cmV0dXJuIHZhbHVlcztcclxuXHR9XHJcblxyXG5cdF9oYW5kbGVTdWJtaXQoKSB7XHJcblx0XHR0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG5cdH1cclxuXHJcblx0c2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHRzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIilcclxuXHRcdFx0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0LmJpbmQodGhpcykpO1xyXG5cdH1cclxuXHJcblx0Y2xvc2UoKSB7XHJcblx0XHRzdXBlci5jbG9zZSgpO1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKS5yZXNldCgpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5cclxuLy8gY2xhc3MgdGhhdCB3aWxsIG9wZW4gYSBwb3B1cCB0byBjb25maXJtIHRoZSBkZWxldGlvbiBvZiB0aGUgY2FyZFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IoeyBoYW5kbGVDb25maXJtLCBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDb25maXJtID0gaGFuZGxlQ29uZmlybTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX3N1Ym1pdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDb25maXJtKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG5cdGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcblx0XHR0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG5cdFx0dGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHRcdHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVySXRlbXMoKSB7XHJcblx0XHR0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRhZGRJdGVtKGVsZW1lbnQpIHtcclxuXHRcdHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG5cdH1cclxufVxyXG5cclxuIiwiLy8gVG9rZW4gODA3YTQzMzUtOTUxYi00NDkzLTllODEtMDAxMGE2NzM4ZmFmXHJcbi8vIEdyb3VwIElEXHJcbi8vIGdyb3VwLTExXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcblx0Y29uc3RydWN0b3IoeyBiYXNlVXJsLCBjYXJkVXJsLCBoZWFkZXJzIH0pIHtcclxuXHRcdC8vIGNvbnN0cnVjdG9yIGJvZHlcclxuXHRcdHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG5cdFx0dGhpcy5fY2FyZFVybCA9IGNhcmRVcmw7XHJcblx0XHR0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuXHR9XHJcblxyXG5cdGdldENhcmRzKCkge1xyXG5cdFx0Ly8gZmV0Y2ggdGhlIHVybCB3aXRoIHRoZSB0b2tlbjogODA3YTQzMzUtOTUxYi00NDkzLTllODEtMDAxMGE2NzM4ZmFmXHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy5fY2FyZFVybCwge1xyXG5cdFx0XHRoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG5cdFx0fSkudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdGlmIChyZXMub2spIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmpzb24oKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlQ2FyZChjYXJkKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy5fY2FyZFVybCwgeyBcclxuXHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoY2FyZCksXHJcblx0XHR9KS50aGVuKChyZXMpID0+IHtcclxuXHRcdFx0aWYgKHJlcy5vaykge1xyXG5cdFx0XHRcdHJldHVybiByZXMuanNvbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcblx0XHR9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblx0fVxyXG5cclxuXHRkZWxldGVDYXJkKHsgY2FyZElkIH0pIHtcclxuXHRcdHJldHVybiBmZXRjaChgJHt0aGlzLl9jYXJkVXJsfS8ke2NhcmRJZH1gLCB7XHJcblx0XHRcdG1ldGhvZDogXCJERUxFVEVcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRpZiAocmVzLm9rKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5qc29uKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gRWRpdGluZyB0aGUgcHJvZmlsZS4gT25jZSBlZGl0ZWQsIHByb2ZpbGUgZGF0YSBtdXN0IGJlIHNhdmVkIG9uIHRoZSBzZXJ2ZXIuIFRvIGRvIHRoaXMsIHNlbmQgYSByZXF1ZXN0IHVzaW5nIHRoZSBQQVRDSCBtZXRob2Q6XHJcblx0ZWRpdFByb2ZpbGUoeyBuYW1lLCBhYm91dCB9KSB7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCwge1xyXG5cdFx0XHRtZXRob2Q6IFwiUEFUQ0hcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuXHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBhYm91dCB9KSxcclxuXHRcdH0pLnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRpZiAocmVzLm9rKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5qc29uKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgaW5pdGlhbENhcmRzIGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG4vLyBpbXBvcnQgdGhlIHJlc3Qgb2YgdGhlIGphdmFzY3JpcHQgZmlsZXNcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZXMuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuLy8gaW1wb3J0IHsgc2VhcmNoIH0gZnJvbSBcImNvcmUtanMvZm4vc3ltYm9sXCI7XHJcblxyXG4vLyBRdWVyeSBTZWxlY3RvcnNcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50aXRsZV9fYnV0dG9uXCIpO1xyXG5jb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9lZGl0XCIpO1xyXG5jb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9hZGRcIik7XHJcbmNvbnN0IGVkaXRGb3JtID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5jb25zdCBhZGRGb3JtID0gYWRkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2VkaXQtcGljXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgbGlzdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0LXRpdGxlXCIpO1xyXG5jb25zdCBsaXN0U3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xpc3Qtc3VidGl0bGVcIik7XHJcbmNvbnN0IGltYWdlVVJMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS11cmxcIik7XHJcbmNvbnN0IGFkZFRpdGxlID0gYWRkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfdGl0bGVcIik7XHJcbmNvbnN0IGFkZEltYWdlID0gYWRkRm9ybS5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfaW1hZ2UtdXJsXCIpO1xyXG5jb25zdCBhZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25cIik7XHJcbmNvbnN0IGNhcmREZWxldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIik7XHJcbmNvbnN0IGVkaXRQcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhcl9lZGl0XCIpO1xyXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuXHJcbi8vIEZ1bmN0aW9uc1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG5cdGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMS91c2Vycy9tZVwiLFxyXG5cdGNhcmRVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMS9jYXJkc1wiLFxyXG5cdGhlYWRlcnM6IHtcclxuXHRcdGF1dGhvcml6YXRpb246IFwiODA3YTQzMzUtOTUxYi00NDkzLTllODEtMDAxMGE2NzM4ZmFmXCIsXHJcblx0XHRcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuXHR9LFxyXG59O1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShjb25maWcpO1xyXG5cclxuYXBpLmdldENhcmRzKCkudGhlbigocmVzKSA9PiB7XHJcblx0Y29uc29sZS5sb2cocmVzKTtcclxuXHRyZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0cmVuZGVyQ2FyZCh7XHJcblx0XHRcdHRpdGxlOiBpdGVtLm5hbWUsXHJcblx0XHRcdGltYWdlOiBpdGVtLmxpbmssXHJcblx0XHR9KTtcclxuXHR9KTtcclxufSk7XHJcblxyXG4vLyBkaXNwbGF5IHRoZSBjYXJkcyBmcm9tIHRoZSBjYXJkc1VSbCBhcnJheSwgdG8gdGhlIHBhZ2VcclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcblx0e1xyXG5cdFx0aXRlbXM6IGFwaS5nZXRDYXJkcygpLFxyXG5cdFx0cmVuZGVyZXI6IChpdGVtKSA9PiByZW5kZXJDYXJkKGl0ZW0pLFxyXG5cdH0sXHJcblx0XCIuZWxlbWVudHNcIlxyXG4pO1xyXG5cclxuLy8gRmlyc3QgYXR0ZW1wdDogd2hlbiB0aGUgY2FyZCBpcyBjcmVhdGVkLCBzYXZlIGl0IHRvIHRoZSBzZXJ2ZXIgKFRoaXMgZG9lcyBub3Qgd29yaylcclxuLy8gZnVuY3Rpb24gc2F2ZUNhcmQoaXRlbSkge1xyXG4vLyBcdGFwaS5jcmVhdGVDYXJkKGl0ZW0pLnRoZW4oKHJlcykgPT4ge1xyXG4vLyBcdFx0cmVuZGVyQ2FyZCh7XHJcbi8vIFx0XHRcdHRpdGxlOiByZXMubmFtZSxcclxuLy8gXHRcdFx0aW1hZ2U6IHJlcy5saW5rLFxyXG4vLyBcdFx0fSk7XHJcbi8vIFx0fSk7XHJcbi8vIH1cclxuXHJcbi8vIG1ha2UgYW5kIGV4YW1wbGUgdGVzdCBmb3IgdGhlIHNhdmVDYXJkIGZ1bmN0aW9uIChUaGlzIGFsc28gZG9lcyBub3Qgd29yaylcclxuLy8gc2F2ZUNhcmQoe1xyXG4vLyBcdHRpdGxlOiBcIkFsZWNcIixcclxuLy8gXHRpbWFnZTogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU1ODk4NzczMi1mOWNhNzg0NjJlNjE/aXhsaWI9cmItMS4yLjEmaXhpZD1leUpoY0hCZmFXUWlPakV5TURkOSZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTgwMCZxPTYwXCIsXHJcbi8vIH0pO1xyXG5cclxuLy8gc2Vjb25kIGF0dGVtcHQ6ID8/Pz8/Pz8/Pz8/IFNvbWVob3cgdGhlIG5hbWUgYW5kIGxpbmsgSSBoYXZlIGJlbG93IGVuZGVkIHVwIGluIHRoZSBzZXJ2ZXIgYXQgdGhlIGJvdHRvbVxyXG4vLyBJIGhhdmUgbm8gaWRlYSBob3cgb3Igd2h5IHRoaXMgaGFwcGVuZWQsIGJ1dCBJIGhhdmUgbm90IGJlZW4gYWJsZSB0byByZXBsaWNhdGUgaXRcclxuLy8gZXZlbiBhZnRlciBkaXJlY3RseSBjb3B5aW5nIHRoZSBjb2RlLiAoRG9lcyBub3Qgd29yaz8pXHJcblxyXG4vLyBhcGkuY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbi8vIFx0cmV0dXJuIGFwaS5wb3N0KGNvbmZpZy5jYXJkVXJsLCBkYXRhKTtcclxuLy8gfTtcclxuXHJcbi8vIGFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gXHRhcGkuY3JlYXRlQ2FyZCh7XHJcbi8vIFx0XHRuYW1lOiBhZGRUaXRsZS52YWx1ZSxcclxuLy8gXHRcdGxpbms6IGFkZEltYWdlLnZhbHVlLFxyXG4vLyBcdH0pO1xyXG4vLyBcdGFwaS5jcmVhdGVDYXJkKHtcclxuLy8gXHRcdG5hbWU6IFwiQWxlYyBEcm9zdVwiLFxyXG4vLyBcdFx0bGluazogXCJodHRwczovL2Nkbi5waXhhYmF5LmNvbS9waG90by8yMDE1LzA0LzIzLzIyLzAwL3RyZWUtNzM2ODg1X180ODAuanBnXCIsXHJcbi8vIFx0fSk7XHJcbi8vIH0pO1xyXG5cclxuLy8gc2F2ZSB0aGUgdXNlcmluZm8gdG8gdGhlIHNlcnZlciAoZG9lcyBub3Qgd29yaylcclxuYXBpLmVkaXRQcm9maWxlKGxpc3RUaXRsZS52YWx1ZSwgbGlzdFN1YnRpdGxlLnZhbHVlKS50aGVuKChyZXMpID0+IHtcclxuXHR1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcblx0XHRuYW1lOiByZXMubmFtZSxcclxuXHRcdGpvYjogcmVzLmFib3V0LFxyXG5cdH0pO1xyXG5cdHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoe1xyXG5cdFx0YXZhdGFyOiByZXMuYXZhdGFyLFxyXG5cdH0pO1xyXG59KTtcclxuLy8gSW5zdGVhZCBvZiB0aGUgY29kZSBhYm92ZSwgbWF5YmUgZmlndXJlIG91dCBob3cgdG8gdXNlIHVzZXJJbmZvUG9wdXBcclxuXHJcbi8vICEgPT09PT09PT09PT09PT09PSBVc2VySW5mbywgcG9wdXBXaXRoRm9ybSwgUG9wdXBXaXRoSW1hZ2UgPT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBjcmVhdGUgdGhlIGNvbnN0YW50IHVzZXJJbmZvIGFuZCBwYXNzIGluIHRoZSBzZWxlY3RvcnMgb2YgaW5mb1RpdGxlIGFuZCBpbmZvU3VidGl0bGVcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG5cdHVzZXJOYW1lU2VsZWN0b3I6IFwiLnRpdGxlX19uYW1lXCIsXHJcblx0dXNlckpvYlNlbGVjdG9yOiBcIi5pbmZvX19qb2JcIixcclxuXHRhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fYXZhdGFyXCIsXHJcbn0pO1xyXG5cclxuLy8gY3JlYXRlIHRoZSB1c2VyIGluZm8gcG9wdXBcclxuY29uc3QgdXNlckluZm9Qb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuXHRwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2VkaXRcIixcclxuXHRoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcblx0XHR1c2VySW5mby5zZXRVc2VySW5mbyh7XHJcblx0XHRcdG5hbWU6IGxpc3RUaXRsZS52YWx1ZSxcclxuXHRcdFx0am9iOiBsaXN0U3VidGl0bGUudmFsdWUsXHJcblx0XHR9KTtcclxuXHRcdHVzZXJJbmZvUG9wdXAuY2xvc2UoKTtcclxuXHR9LFxyXG59KTtcclxuXHJcbi8vIFdoZW5ldmVyIHRoZSB1c2VyIGNsaWNrIHRoZSBlbGVtZW50X190cmFzaCBidXR0b24sIG9wZW4gdGhlIHBvcHVwLiBUaGVuIGRlbGV0ZSB0aGUgY2FyZCBmcm9tIHRoZSBzZXJ2ZXIgd2hlbiB0aGUgdXNlciBjbGljayB0aGUgY29uZmlybSBidXR0b25cclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oe1xyXG5cdHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfY29uZmlybVwiLFxyXG5cdGhhbmRsZUNvbmZpcm1DbGljazogKCkgPT4ge1xyXG5cdFx0ZGVsZXRlQ2FyZChjYXJkSWQpO1xyXG5cdFx0ZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcblx0fSxcclxufSk7XHJcbi8vIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XHJcblxyXG4vLyBjb25maXJtVXNlckRlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gcnVuIHNldEV2ZW50TGlzdGVuZXJzIG9uIHRoZSB1c2VySW5mb1BvcHVwXHJcbnVzZXJJbmZvUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIGNyZWF0ZSB0aGUgY2hhbmdlIHByb2ZpbGUgaW1hZ2UgcG9wdXBcclxuY29uc3QgdXNlckltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcblx0cG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9lZGl0LXBpY1wiLFxyXG5cdGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHtcclxuXHRcdHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoe1xyXG5cdFx0XHRhdmF0YXI6IGltYWdlVVJMLnZhbHVlLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dXNlckltYWdlUG9wdXAuY2xvc2UoKTtcclxuXHR9LFxyXG59KTtcclxuXHJcbi8vIHJ1biBzZXRFdmVudExpc3RlbmVycyBvbiB0aGUgdXNlckltYWdlUG9wdXBcclxudXNlckltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuXHRwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2FkZFwiLFxyXG5cdC8vIGhhbmRsZSBzYXZpbmcgdGhlIHVzZSBpbmZvIGRhdGFcclxuXHRoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcblx0XHRyZW5kZXJDYXJkKHtcclxuXHRcdFx0dGl0bGU6IGFkZFRpdGxlLnZhbHVlLFxyXG5cdFx0XHRpbWFnZTogYWRkSW1hZ2UudmFsdWUsXHJcblx0XHR9KTtcclxuXHRcdGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG5cdH0sXHJcbn0pO1xyXG5cclxuLy8gY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4vLyBcdHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYWRkXCIsXHJcbi8vIFx0aGFuZGxlRm9ybVN1Ym1pdDogKGl0ZW0pID0+IHtcclxuLy8gXHRcdGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4vLyBcdFx0YXBpXHJcbi8vIFx0XHRcdC5jcmVhdGVDYXJkKGl0ZW0pXHJcbi8vIFx0XHRcdC50aGVuKChyZXMpID0+IHtcclxuLy8gXHRcdFx0XHRjb25zb2xlLmxvZyhyZXMpO1xyXG4vLyBcdFx0XHRcdHJlbmRlckNhcmQoe1xyXG4vLyBcdFx0XHRcdFx0dGl0bGU6IHJlcy50aXRsZSxcclxuLy8gXHRcdFx0XHRcdGltYWdlOiByZXMuaW1hZ2UtdXJsLFxyXG4vLyBcdFx0XHRcdH0pO1xyXG4vLyBcdFx0XHR9KVxyXG4vLyBcdFx0XHQuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuLy8gXHRcdFx0LmZpbmFsbHkoKCkgPT4gYWRkQ2FyZFBvcHVwLmNsb3NlKCkpO1xyXG4vLyBcdH0sXHJcbi8vIH0pO1xyXG5cclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBlZGl0UHJvZmlsZUJ1dHRvbiBvcGVucyB0aGUgcHJvZmlsZVxyXG5cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHQvLyBzZXQgdGhlIHVzZXIgaW5mbyBmcm9tIHdoYXQgaXMgc3RvcmVkIGJlZm9yZSBvcGVuaW5nIHRoZSBwb3B1cFxyXG5cdGNvbnN0IHsgbmFtZSwgam9iIH0gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG5cdGxpc3RUaXRsZS52YWx1ZSA9IG5hbWU7IC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIHRoZSBuYW1lXHJcblx0bGlzdFN1YnRpdGxlLnZhbHVlID0gam9iOyAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCB0byB0aGUgam9iXHJcblxyXG5cdHVzZXJJbmZvUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbi8vIGNyZWF0ZSB0aGUgYWRkIGNhcmQgcG9wdXAgdXNpbmcgdGhlIFBvcHVwV2l0aEltYWdlIGNsYXNzXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIubW9kYWxfdHlwZV9wcmV2aWV3XCIpO1xyXG5cclxuLy8gcnVuIHNldEV2ZW50TGlzdGVuZXJzIG9uIHRoZSBwb3B1cEltYWdlXHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vICEgPT09PT09PT09PT09PT09PSBEZWxldGVDYXJkUG9wdXAgPT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vICEgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBhZGQgYW4gZXZlbnRsaXN0ZW5lciB0byB0aGUgZWRpdHByb2ZpbGVpbWFnZSBidXR0b24sIHNvIHRoYXQgdGhlIHByb2ZpbGVfX2F2YXRhciBpbWFnZSBjaGFuZ2VzIHRvIHdoYXRldmVyIGltYWdlIGlzIGluIHRoZSBpbnB1dFxyXG5lZGl0UHJvZmlsZUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB1c2VySW1hZ2VQb3B1cC5vcGVuKCkpO1xyXG4vLyBjYXJkRGVsZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGRhbGV0ZUNhcmRQb3B1cC5vcGVuKCkpO1xyXG5cclxuLy8gISA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gU2VjdGlvbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gY3JlYXRlIGEgY29tbW9uIHJlbmRlcmVyIGZ1bmN0aW9uIHRvIG5vdCBkdXBsaWNhdGUgY29kZVxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGl0ZW0pIHtcclxuXHRjb25zdCBjYXJkRWwgPSBuZXcgQ2FyZChpdGVtLCBcIiNlbGVtZW50VGVtcGxhdGVcIiwgKGRhdGEpID0+IHtcclxuXHRcdHBvcHVwSW1hZ2Uub3BlbihkYXRhKTtcclxuXHR9KS5nZW5lcmF0ZUNhcmQoKTtcclxuXHRjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWwpO1xyXG59XHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxuYWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkQ2FyZFBvcHVwLm9wZW4oKSk7IC8vY3JlYXRlIGFuIGFkZCBwb3B1cCBjbGFzcyB3aXRoIHVzZXJpbmZvZm9ybVxyXG4vLyBjcmVhdGUgdGhlIGFkZEV2ZW50TGlzdGVuZXIgZm9yIHRoZSBhZGRjYXJkIGJ1dHRvbiBhbmQgY3JlYXRlY2FyZCBhcGlcclxuLy8gYWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4vLyBcdGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbi8vIFx0Ly8gY3JlYXRlQ2FyZCh7XHJcbi8vIFx0Ly8gXHR0aXRsZTogYWRkVGl0bGUudmFsdWUsXHJcbi8vIFx0Ly8gXHRpbWFnZTogYWRkSW1hZ2UudmFsdWUsXHJcbi8vIFx0Ly8gfSk7XHJcbi8vIH0pO1xyXG5cclxuLy8gQWN0aW9uc1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRpb25Db25maWcgPSB7XHJcblx0aW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuXHRzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcblx0aW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXRfaW5hY3RpdmVcIixcclxuXHRpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG5cdGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvbkNvbmZpZywgYWRkRm9ybSk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuXHRmb3JtVmFsaWRhdGlvbkNvbmZpZyxcclxuXHRlZGl0UHJvZmlsZUZvcm1cclxuKTtcclxuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuIl0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWwiLCJ0aGlzIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbCIsImlucHV0RWwiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZXJyb3JFbCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsIl9jaGVja0lmSW5wdXRWYWxpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImlubmVyVGV4dCIsImFkZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJldmVyeSIsImRpc2FibGVkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldHVwRXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiY2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl90aXRsZSIsInRpdGxlIiwiX2ltYWdlIiwiaW1hZ2UiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2NhcmRTZWxlY3RvciIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwibmFtZSIsImxpbmsiLCJfaGFuZGxlRGVsZXRlIiwiX2hhbmRsZUxpa2UiLCJ0b2dnbGUiLCJfZ2V0VGVtcGxhdGUiLCJ0ZXh0Q29udGVudCIsInNyYyIsImFsdCIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJKb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJKb2IiLCJfdXNlckF2YXRhciIsImpvYiIsImF2YXRhciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlS2V5RG93biIsImJpbmQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX2NhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwidmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIl9nZXRJbnB1dFZhbHVlcyIsIl9oYW5kbGVTdWJtaXQiLCJyZXNldCIsIlBvcHVwV2l0aENvbmZpcm0iLCJoYW5kbGVDb25maXJtIiwiX2hhbmRsZUNvbmZpcm0iLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIkFwaSIsImJhc2VVcmwiLCJjYXJkVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2NhcmRVcmwiLCJfaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNhcmRJZCIsImFib3V0IiwiZWRpdFByb2ZpbGVCdXR0b24iLCJtb2RhbENvbnRhaW5lciIsImFkZE1vZGFsIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiZWRpdFByb2ZpbGVGb3JtIiwibGlzdFRpdGxlIiwibGlzdFN1YnRpdGxlIiwiaW1hZ2VVUkwiLCJhZGRUaXRsZSIsImFkZEltYWdlIiwiYWRkQ2FyZCIsImVkaXRQcm9maWxlSW1hZ2UiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0Q2FyZHMiLCJyZW5kZXJDYXJkIiwiY2FyZHNMaXN0IiwiZWRpdFByb2ZpbGUiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsInVzZXJJbmZvUG9wdXAiLCJkZWxldGVDYXJkUG9wdXAiLCJoYW5kbGVDb25maXJtQ2xpY2siLCJkZWxldGVDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ1c2VySW1hZ2VQb3B1cCIsImFkZENhcmRQb3B1cCIsImdldFVzZXJJbmZvIiwib3BlbiIsInBvcHVwSW1hZ2UiLCJjYXJkRWwiLCJkYXRhIiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsImZvcm1WYWxpZGF0aW9uQ29uZmlnIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=