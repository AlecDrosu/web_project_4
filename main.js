!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=n}var n,r;return n=t,(r=[{key:"_checkIfInputValid",value:function(e){return e.validity.valid}},{key:"_checkInputValidity",value:function(e){var t=this._formEl.querySelector("#".concat(e.id,"-error"));this._checkIfInputValid(e)?(e.classList.remove(this._inputErrorClass),t.innerText="",t.classList.remove(this._errorClass)):(e.classList.add(this._inputErrorClass),t.innerText=e.validationMessage,t.classList.add(this._errorClass))}},{key:"_toggleButtonState",value:function(e,t){var n=this;e.every((function(e){return n._checkIfInputValid(e)}))?(t.classList.remove(this._inactiveButtonClass),t.disabled=!1):(t.classList.add(this._inactiveButtonClass),t.disabled=!0)}},{key:"_setupEventListeners",value:function(){var e=this,t=Array.from(this._formEl.querySelectorAll(this._inputSelector)),n=this._formEl.querySelector(this._submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))})),this._toggleButtonState(t,n)}},{key:"enableValidation",value:function(){this._formEl.addEventListener("submit",(function(e){e.preventDefault()})),this._setupEventListeners()}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=t.title,this._image=t.image,this._handleClick=r,this._cardSelector=n}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setupEventListeners",value:function(){var e=this;this._element.querySelector(".element__img").addEventListener("click",(function(){return e._handleClick({name:e._title,link:e._image})})),this._element.querySelector(".text__heart").addEventListener("click",(function(){return e._handleLike()}))}},{key:"_handleLike",value:function(){this._element.querySelector(".text__heart").classList.toggle("text__heart_active")}},{key:"_handleDelete",value:function(){this._element.remove()}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setupEventListeners(),this._element.querySelector(".text__label").textContent=this._title,this._element.querySelector(".element__img").src=this._image,this._element.querySelector(".element__img").alt=this._title,this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=t.userNameSelector,r=t.userJobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userJob=document.querySelector(r),this._userAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._userName.textContent=t,this._userJob.textContent=n}},{key:"setUserAvatar",value:function(e){var t=e.avatar;this._userAvatar.src=t}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleKeyDown=this._handleKeyDown.bind(this)}var t,n;return t=e,(n=[{key:"_handleKeyDown",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("modal__overlay")||t.target.classList.contains("modal__close-btn"))&&e.close()}))}},{key:"open",value:function(){this._popupElement.classList.add("modal_is-open"),document.addEventListener("keydown",this._handleKeyDown)}},{key:"close",value:function(){this._popupElement.classList.remove("modal_is-open"),document.removeEventListener("keydown",this._handleKeyDown)}}])&&a(t.prototype,n),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(){return c(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._image=this._popupElement.querySelector(".modal__img"),this._caption=this._popupElement.querySelector(".modal__caption").textContent=n,this._image.src=t,this._image.alt=n,f(m(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),a}(u);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},v(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function S(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t,n=e.handleFormSubmit,r=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,r))._handleFormSubmit=n,t}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this._popupElement.querySelectorAll(".form__input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"_handleSubmit",value:function(){this._handleFormSubmit(this._getInputValues())}},{key:"setEventListeners",value:function(){v(g(a.prototype),"setEventListeners",this).call(this),this._popupElement.querySelector(".form").addEventListener("submit",this._handleSubmit.bind(this))}},{key:"close",value:function(){v(g(a.prototype),"close",this).call(this),this._popupElement.querySelector(".form").reset()}}])&&h(t.prototype,n),a}(u);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&E(t.prototype,n),e}(),L=document.querySelector(".title__button"),q=document.querySelector(".modal_type_edit"),j=document.querySelector(".modal_type_add"),O=q.querySelector(".form"),C=j.querySelector(".form"),x=document.querySelector(".modal_type_edit-pic").querySelector(".form"),P=document.querySelector("#list-title"),B=document.querySelector("#list-subtitle"),I=document.querySelector("#image-url"),R=C.querySelector(".form__input_type_title"),T=C.querySelector(".form__input_type_image-url"),V=document.querySelector(".profile__button"),D=(document.querySelector(".element__trash"),document.querySelector(".profile__avatar_edit"));document.querySelector(".profile__avatar"),fetch("https://around.nomoreparties.co/v1/group-11/users/me");var A=new i({userNameSelector:".title__name",userJobSelector:".info__job",avatarSelector:".profile__avatar"}),N=new w({popupSelector:".modal_type_edit",handleFormSubmit:function(){A.setUserInfo({name:P.value,job:B.value}),N.close()}});N.setEventListeners();var F=new w({popupSelector:".modal_type_edit-pic",handleFormSubmit:function(){A.setUserAvatar({avatar:I.value}),F.close()}});F.setEventListeners();var U=new w({popupSelector:".modal_type_add",handleFormSubmit:function(){K({title:R.value,image:T.value}),U.close()}});U.setEventListeners(),L.addEventListener("click",(function(){var e=A.getUserInfo(),t=e.name,n=e.job;P.value=t,B.value=n,N.open()}));var J=new _(".modal_type_preview");function K(e){var t=new r(e,"#elementTemplate",(function(e){J.open(e)})).generateCard();M.addItem(t)}J.setEventListeners(),D.addEventListener("click",(function(){return F.open()}));var M=new k({items:[{title:"Yosemite Valley",image:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{title:"Lake Louise",image:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{title:"Bald Mountains",image:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{title:"Latemar",image:"https://code.s3.yandex.net/web-code/latemar.jpg"},{title:"Vanoise National Park",image:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{title:"Lago di Braies",image:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(e){return K(e)}},".elements");M.renderItems(),V.addEventListener("click",(function(){return U.open()}));var Y={inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"form__submit_inactive",inputErrorClass:"form__input_type_error",errorClass:"popup__error_visible"};new t(Y,C).enableValidation(),new t(Y,O).enableValidation(),new t(Y,x).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibU1Bc0VBLEVBdEVNQSxXQUNMLFdBQVlDLEVBQVFDLEksNEZBQVEsU0FDM0JDLEtBQUtDLGVBQWlCSCxFQUFPSSxjQUM3QkYsS0FBS0csc0JBQXdCTCxFQUFPTSxxQkFDcENKLEtBQUtLLHFCQUF1QlAsRUFBT1Esb0JBQ25DTixLQUFLTyxpQkFBbUJULEVBQU9VLGdCQUMvQlIsS0FBS1MsWUFBY1gsRUFBT1ksV0FFMUJWLEtBQUtXLFFBQVVaLEUsdURBR2hCLFNBQW1CYSxHQUNsQixPQUFPQSxFQUFRQyxTQUFTQyxRLGlDQUd6QixTQUFvQkYsR0FDbkIsSUFBTUcsRUFBVWYsS0FBS1csUUFBUUssY0FBYixXQUErQkosRUFBUUssR0FBdkMsV0FDWGpCLEtBQUtrQixtQkFBbUJOLElBTzVCQSxFQUFRTyxVQUFVQyxPQUFPcEIsS0FBS08sa0JBQzlCUSxFQUFRTSxVQUFZLEdBQ3BCTixFQUFRSSxVQUFVQyxPQUFPcEIsS0FBS1MsZUFQOUJHLEVBQVFPLFVBQVVHLElBQUl0QixLQUFLTyxrQkFDM0JRLEVBQVFNLFVBQVlULEVBQVFXLGtCQUM1QlIsRUFBUUksVUFBVUcsSUFBSXRCLEtBQUtTLGdCLGdDQVM3QixTQUFtQmUsRUFBV0MsR0FBVSxXQUN0QkQsRUFBVUUsT0FBTSxTQUFDZCxHQUFELE9BQ2hDLEVBQUtNLG1CQUFtQk4sT0FReEJhLEVBQVNOLFVBQVVDLE9BQU9wQixLQUFLSyxzQkFDL0JvQixFQUFTRSxVQUFXLElBTHBCRixFQUFTTixVQUFVRyxJQUFJdEIsS0FBS0ssc0JBQzVCb0IsRUFBU0UsVUFBVyxLLGtDQVF0QixXQUF1QixXQUNoQkgsRUFBWUksTUFBTUMsS0FDdkI3QixLQUFLVyxRQUFRbUIsaUJBQWlCOUIsS0FBS0MsaUJBRTlCd0IsRUFBV3pCLEtBQUtXLFFBQVFLLGNBQWNoQixLQUFLRyx1QkFFakRxQixFQUFVTyxTQUFRLFNBQUNuQixHQUNsQkEsRUFBUW9CLGlCQUFpQixTQUFTLFdBQ2pDLEVBQUtDLG9CQUFvQnJCLEdBQ3pCLEVBQUtzQixtQkFBbUJWLEVBQVdDLFNBSXJDekIsS0FBS2tDLG1CQUFtQlYsRUFBV0MsSyw4QkFHcEMsV0FDQ3pCLEtBQUtXLFFBQVFxQixpQkFBaUIsVUFBVSxTQUFDRyxHQUN4Q0EsRUFBSUMsb0JBR0xwQyxLQUFLcUMsNEIsbUJBbEVEeEMsRywwS0N5RE4sRUF6RE15QyxXQUNMLFdBQVlDLEVBQU1DLEVBQWNDLEksNEZBQWEsU0FDNUN6QyxLQUFLMEMsT0FBU0gsRUFBS0ksTUFDbkIzQyxLQUFLNEMsT0FBU0wsRUFBS00sTUFDbkI3QyxLQUFLOEMsYUFBZUwsRUFFcEJ6QyxLQUFLK0MsY0FBZ0JQLEUsaURBR3RCLFdBS0MsT0FKZVEsU0FDYmhDLGNBQWNoQixLQUFLK0MsZUFDbkJFLFFBQVFqQyxjQUFjLFlBQ3RCa0MsV0FBVSxLLGtDQUliLFdBQXVCLFdBQ3RCbEQsS0FBS21ELFNBQ0huQyxjQUFjLGlCQUNkZ0IsaUJBQWlCLFNBQVMsa0JBQzFCLEVBQUtjLGFBQWEsQ0FBRU0sS0FBTSxFQUFLVixPQUFRVyxLQUFNLEVBQUtULFlBT3BENUMsS0FBS21ELFNBQ0huQyxjQUFjLGdCQUNkZ0IsaUJBQWlCLFNBQVMsa0JBQU0sRUFBS3NCLG1CLHlCQUd4QyxXQUNDdEQsS0FBS21ELFNBQ0huQyxjQUFjLGdCQUNkRyxVQUFVb0MsT0FBTyx3QiwyQkFHcEIsV0FDQ3ZELEtBQUttRCxTQUFTL0IsVywwQkFHZixXQVVDLE9BVEFwQixLQUFLbUQsU0FBV25ELEtBQUt3RCxlQUNyQnhELEtBQUtxQyx1QkFFTHJDLEtBQUttRCxTQUFTbkMsY0FBYyxnQkFBZ0J5QyxZQUFjekQsS0FBSzBDLE9BRS9EMUMsS0FBS21ELFNBQVNuQyxjQUFjLGlCQUFpQjBDLElBQU0xRCxLQUFLNEMsT0FFeEQ1QyxLQUFLbUQsU0FBU25DLGNBQWMsaUJBQWlCMkMsSUFBTTNELEtBQUswQyxPQUVqRDFDLEtBQUttRCxjLG1CQXJEUmIsRywwS0NBZXNCLEVBQUFBLFdBQ3BCLGNBQW1FLElBQXJEQyxFQUFxRCxFQUFyREEsaUJBQWtCQyxFQUFtQyxFQUFuQ0EsZ0JBQWlCQyxFQUFrQixFQUFsQkEsZ0IsNEZBQWtCLFNBQ2xFL0QsS0FBS2dFLFVBQVloQixTQUFTaEMsY0FBYzZDLEdBQ3hDN0QsS0FBS2lFLFNBQVdqQixTQUFTaEMsY0FBYzhDLEdBQ3ZDOUQsS0FBS2tFLFlBQWNsQixTQUFTaEMsY0FBYytDLEcsZ0RBRzNDLFdBQ0MsTUFBTyxDQUNOWCxLQUFNcEQsS0FBS2dFLFVBQVVQLFlBQ3JCVSxJQUFLbkUsS0FBS2lFLFNBQVNSLGUseUJBSXJCLFlBQTJCLElBQWJMLEVBQWEsRUFBYkEsS0FBTWUsRUFBTyxFQUFQQSxJQUNuQm5FLEtBQUtnRSxVQUFVUCxZQUFjTCxFQUM3QnBELEtBQUtpRSxTQUFTUixZQUFjVSxJLDJCQUc3QixZQUEwQixJQUFWQyxFQUFVLEVBQVZBLE9BQ2ZwRSxLQUFLa0UsWUFBWVIsSUFBTVUsTyxtQkFwQkpSLEcsMEtDQUFTLEVBQUFBLFdBQ3BCLFdBQVlDLEksNEZBQWUsU0FDMUJ0RSxLQUFLdUUsY0FBZ0J2QixTQUFTaEMsY0FBY3NELEdBQzVDdEUsS0FBS3dFLGVBQWlCeEUsS0FBS3dFLGVBQWVDLEtBQUt6RSxNLG1EQUdoRCxTQUFlbUMsR0FDRSxXQUFaQSxFQUFJdUMsS0FDUDFFLEtBQUsyRSxVLCtCQUlQLFdBQW9CLFdBQ25CM0UsS0FBS3VFLGNBQWN2QyxpQkFBaUIsU0FBUyxTQUFDRyxJQUU1Q0EsRUFBSXlDLE9BQU96RCxVQUFVMEQsU0FBUyxtQkFDOUIxQyxFQUFJeUMsT0FBT3pELFVBQVUwRCxTQUFTLHNCQUU5QixFQUFLRixhLGtCQUtSLFdBQ0MzRSxLQUFLdUUsY0FBY3BELFVBQVVHLElBQUksaUJBQ2pDMEIsU0FBU2hCLGlCQUFpQixVQUFXaEMsS0FBS3dFLGtCLG1CQUczQyxXQUNDeEUsS0FBS3VFLGNBQWNwRCxVQUFVQyxPQUFPLGlCQUNwQzRCLFNBQVM4QixvQkFBb0IsVUFBVzlFLEtBQUt3RSxxQixtQkE5QjFCSCxHLDh4Q0NFQVUsRUFBQUEsU0FBQUEsSSxpdUJBQ3BCLFlBQXFCLElBQWQxQixFQUFjLEVBQWRBLEtBQU1ELEVBQVEsRUFBUkEsS0FDWnBELEtBQUs0QyxPQUFTNUMsS0FBS3VFLGNBQWN2RCxjQUFjLGVBQy9DaEIsS0FBS2dGLFNBQVdoRixLQUFLdUUsY0FBY3ZELGNBQ2xDLG1CQUNDeUMsWUFBY0wsRUFDaEJwRCxLQUFLNEMsT0FBT2MsSUFBTUwsRUFDbEJyRCxLQUFLNEMsT0FBT2UsSUFBTVAsRUFDbEIsOEMsbUJBUm1CMkIsQ0FBdUJWLEcsZ3NDQ0F2QlksRUFBQUEsU0FBQUEsSSwwb0JBQ3BCLGNBQWlELE1BQW5DQyxFQUFtQyxFQUFuQ0EsaUJBQWtCWixFQUFpQixFQUFqQkEsY0FBaUIsTyw0RkFBQSxVQUNoRCxjQUFNQSxJQUNEYSxrQkFBb0JELEVBRnVCLEUsNENBS2pELFdBQ0MsSUFBTUUsRUFBUyxHQU1mLE9BTEF4RCxNQUFNQyxLQUFLN0IsS0FBS3VFLGNBQWN6QyxpQkFBaUIsaUJBQWlCQyxTQUMvRCxTQUFDc0QsR0FDQUQsRUFBT0MsRUFBTWpDLE1BQVFpQyxFQUFNQyxTQUd0QkYsSSwyQkFHUixXQUNDcEYsS0FBS21GLGtCQUFrQm5GLEtBQUt1RixxQiwrQkFHN0IsV0FDQyxzREFDQXZGLEtBQUt1RSxjQUNIdkQsY0FBYyxTQUNkZ0IsaUJBQWlCLFNBQVVoQyxLQUFLd0YsY0FBY2YsS0FBS3pFLFMsbUJBR3RELFdBQ0MsMENBQ0FBLEtBQUt1RSxjQUFjdkQsY0FBYyxTQUFTeUUsYSxtQkE3QnZCUixDQUFzQlosRywwS0NGdEJxQixFQUFBQSxXQUNwQixhQUFpQ0MsR0FBbUIsSUFBdENDLEVBQXNDLEVBQXRDQSxNQUFPQyxFQUErQixFQUEvQkEsVSw0RkFBK0IsU0FDbkQ3RixLQUFLOEYsT0FBU0YsRUFDZDVGLEtBQUsrRixVQUFZRixFQUNqQjdGLEtBQUtnRyxXQUFhaEQsU0FBU2hDLGNBQWMyRSxHLGdEQUcxQyxXQUFjLFdBQ2IzRixLQUFLOEYsT0FBTy9ELFNBQVEsU0FBQ2tFLEdBQ3BCLEVBQUtGLFVBQVVFLFEscUJBSWpCLFNBQVFDLEdBQ1BsRyxLQUFLZ0csV0FBV0csUUFBUUQsUSxtQkFkTFIsR0NjZlUsRUFBb0JwRCxTQUFTaEMsY0FBYyxrQkFDM0NxRixFQUFpQnJELFNBQVNoQyxjQUFjLG9CQUN4Q3NGLEVBQVd0RCxTQUFTaEMsY0FBYyxtQkFDbEN1RixFQUFXRixFQUFlckYsY0FBYyxTQUN4Q3dGLEVBQVVGLEVBQVN0RixjQUFjLFNBRWpDeUYsRUFEbUJ6RCxTQUFTaEMsY0FBYyx3QkFDUEEsY0FBYyxTQUNqRDBGLEVBQVkxRCxTQUFTaEMsY0FBYyxlQUNuQzJGLEVBQWUzRCxTQUFTaEMsY0FBYyxrQkFDdEM0RixFQUFXNUQsU0FBU2hDLGNBQWMsY0FDbEM2RixFQUFXTCxFQUFReEYsY0FBYywyQkFDakM4RixFQUFXTixFQUFReEYsY0FBYywrQkFDakMrRixFQUFVL0QsU0FBU2hDLGNBQWMsb0JBRWpDZ0csR0FEZWhFLFNBQVNoQyxjQUFjLG1CQUNuQmdDLFNBQVNoQyxjQUFjLDBCQUMzQmdDLFNBQVNoQyxjQUFjLG9CQU81Q2lHLE1BRGdCLHdEQVVoQixJQUFNQyxFQUFXLElBQUl0RCxFQUFTLENBQzdCQyxpQkFBa0IsZUFDbEJDLGdCQUFpQixhQUNqQkMsZUFBZ0IscUJBT1hvRCxFQUFnQixJQUFJbEMsRUFBYyxDQUN2Q1gsY0FBZSxtQkFDZlksaUJBQWtCLFdBQ2pCZ0MsRUFBU0UsWUFBWSxDQUNwQmhFLEtBQU1zRCxFQUFVcEIsTUFDaEJuQixJQUFLd0MsRUFBYXJCLFFBRW5CNkIsRUFBY3hDLFdBS2hCd0MsRUFBY0Usb0JBR2QsSUFBTUMsRUFBaUIsSUFBSXJDLEVBQWMsQ0FDeENYLGNBQWUsdUJBQ2ZZLGlCQUFrQixXQUNqQmdDLEVBQVNLLGNBQWMsQ0FDdEJuRCxPQUFRd0MsRUFBU3RCLFFBR2xCZ0MsRUFBZTNDLFdBS2pCMkMsRUFBZUQsb0JBRWYsSUFBTUcsRUFBZSxJQUFJdkMsRUFBYyxDQUN0Q1gsY0FBZSxrQkFFZlksaUJBQWtCLFdBQ2pCdUMsRUFBVyxDQUNWOUUsTUFBT2tFLEVBQVN2QixNQUNoQnpDLE1BQU9pRSxFQUFTeEIsUUFFakJrQyxFQUFhN0MsV0FJZjZDLEVBQWFILG9CQUliakIsRUFBa0JwRSxpQkFBaUIsU0FBUyxXQUUzQyxNQUFzQmtGLEVBQVNRLGNBQXZCdEUsRUFBUixFQUFRQSxLQUFNZSxFQUFkLEVBQWNBLElBQ2R1QyxFQUFVcEIsTUFBUWxDLEVBQ2xCdUQsRUFBYXJCLE1BQVFuQixFQUVyQmdELEVBQWNRLFVBSWYsSUFBTUMsRUFBYSxJQUFJN0MsRUFBZSx1QkE4Q3RDLFNBQVMwQyxFQUFXeEIsR0FDbkIsSUFBTTRCLEVBQVMsSUFBSXZGLEVBQUsyRCxFQUFNLG9CQUFvQixTQUFDNkIsR0FDbERGLEVBQVdELEtBQUtHLE1BQ2RDLGVBQ0hDLEVBQVVDLFFBQVFKLEdBL0NuQkQsRUFBV1Asb0JBcUNYTCxFQUFpQmhGLGlCQUFpQixTQUFTLGtCQUFNc0YsRUFBZUssVUFjaEUsSUFBTUssRUFBWSxJQUFJdEMsRUFDckIsQ0FDQ0UsTUN0S21CLENBQ3BCLENBQ0NqRCxNQUFPLGtCQUNQRSxNQUFPLG9EQUVSLENBQ0NGLE1BQU8sY0FDUEUsTUFBTyx1REFFUixDQUNDRixNQUFPLGlCQUNQRSxNQUFPLDBEQUVSLENBQ0NGLE1BQU8sVUFDUEUsTUFBTyxtREFFUixDQUNDRixNQUFPLHdCQUNQRSxNQUFPLG1EQUVSLENBQ0NGLE1BQU8saUJBQ1BFLE1BQU8saUREaUpQZ0QsU0FBVSxTQUFDSSxHQUFELE9BQVV3QixFQUFXeEIsS0FFaEMsYUFJRCtCLEVBQVVFLGNBR1ZuQixFQUFRL0UsaUJBQWlCLFNBQVMsa0JBQU13RixFQUFhRyxVQUlyRCxJQUFNUSxFQUF1QixDQUM1QmpJLGNBQWUsZUFDZkUscUJBQXNCLGdCQUN0QkUsb0JBQXFCLHdCQUNyQkUsZ0JBQWlCLHlCQUNqQkUsV0FBWSx3QkFHWSxJQUFJYixFQUFjc0ksRUFBc0IzQixHQUNoRDRCLG1CQUVTLElBQUl2SSxFQUFjc0ksRUFBc0I1QixHQUNoRDZCLG1CQUVlLElBQUl2SSxFQUFjc0ksRUFBc0IxQixHQUNoRDJCLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcblx0Y29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWwpIHtcclxuXHRcdHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuXHRcdHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG5cdFx0dGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG5cdFx0dGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuXHRcdHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuXHJcblx0XHR0aGlzLl9mb3JtRWwgPSBmb3JtRWw7XHJcblx0fVxyXG5cclxuXHRfY2hlY2tJZklucHV0VmFsaWQoaW5wdXRFbCkge1xyXG5cdFx0cmV0dXJuIGlucHV0RWwudmFsaWRpdHkudmFsaWQ7XHJcblx0fVxyXG5cclxuXHRfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuXHRcdGNvbnN0IGVycm9yRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuXHRcdGlmICghdGhpcy5fY2hlY2tJZklucHV0VmFsaWQoaW5wdXRFbCkpIHtcclxuXHRcdFx0Ly8gc2hvdyBlcnJvciBtZXNzYWdlIGFuZCBhZGQgZXJyb3IgY2xhc3NcclxuXHRcdFx0aW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcblx0XHRcdGVycm9yRWwuaW5uZXJUZXh0ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuXHRcdFx0ZXJyb3JFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gaGlkZSBlcnJvciBtZXNzYWdlIGFuZCByZW1vdmUgaXRcclxuXHRcdFx0aW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcblx0XHRcdGVycm9yRWwuaW5uZXJUZXh0ID0gXCJcIjtcclxuXHRcdFx0ZXJyb3JFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0X3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwpIHtcclxuXHRcdGNvbnN0IGFsbFZhbGlkID0gaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PlxyXG5cdFx0XHR0aGlzLl9jaGVja0lmSW5wdXRWYWxpZChpbnB1dEVsKVxyXG5cdFx0KTtcclxuXHRcdGlmICghYWxsVmFsaWQpIHtcclxuXHRcdFx0Ly8gbG9ja1xyXG5cdFx0XHRidXR0b25FbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG5cdFx0XHRidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyB1bmxvY2tcclxuXHRcdFx0YnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHRcdFx0YnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdF9zZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0Y29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuXHRcdFx0dGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuXHRcdCk7XHJcblx0XHRjb25zdCBidXR0b25FbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcblx0XHRpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG5cdFx0XHRpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG5cdFx0XHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwpO1xyXG5cdH1cclxuXHJcblx0ZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuXHRcdHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuXHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9KTtcclxuXHRcdC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIGZvcm0gZmllbGRzXHJcblx0XHR0aGlzLl9zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJjbGFzcyBDYXJkIHtcclxuXHRjb25zdHJ1Y3RvcihjYXJkLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNsaWNrKSB7XHJcblx0XHR0aGlzLl90aXRsZSA9IGNhcmQudGl0bGU7XHJcblx0XHR0aGlzLl9pbWFnZSA9IGNhcmQuaW1hZ2U7XHJcblx0XHR0aGlzLl9oYW5kbGVDbGljayA9IGhhbmRsZUNsaWNrO1xyXG5cclxuXHRcdHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuXHR9XHJcblxyXG5cdF9nZXRUZW1wbGF0ZSgpIHtcclxuXHRcdGNvbnN0IGNhcmRFbCA9IGRvY3VtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuXHRcdFx0LmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpXHJcblx0XHRcdC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0XHRyZXR1cm4gY2FyZEVsO1xyXG5cdH1cclxuXHJcblx0X3NldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltZ1wiKVxyXG5cdFx0XHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcblx0XHRcdFx0dGhpcy5faGFuZGxlQ2xpY2soeyBuYW1lOiB0aGlzLl90aXRsZSwgbGluazogdGhpcy5faW1hZ2UgfSlcclxuXHRcdFx0KTtcclxuXHRcdC8vIHRoaXMuX2VsZW1lbnRcclxuXHRcdC8vIFx0LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIilcclxuXHRcdC8vIFx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGUoKSk7IFxyXG5cdFx0Ly8gZGVsZXRlIHRoZSBjYXJkIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkXHJcblx0XHRcclxuXHRcdHRoaXMuX2VsZW1lbnRcclxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dF9faGVhcnRcIilcclxuXHRcdFx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlKCkpO1xyXG5cdH1cclxuXHJcblx0X2hhbmRsZUxpa2UoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50XHJcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFwiLnRleHRfX2hlYXJ0XCIpXHJcblx0XHRcdC5jbGFzc0xpc3QudG9nZ2xlKFwidGV4dF9faGVhcnRfYWN0aXZlXCIpO1xyXG5cdH1cclxuXHJcblx0X2hhbmRsZURlbGV0ZSgpIHtcclxuXHRcdHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcblx0fVxyXG5cclxuXHRnZW5lcmF0ZUNhcmQoKSB7XHJcblx0XHR0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuXHRcdHRoaXMuX3NldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblx0XHR0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dF9fbGFiZWxcIikudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuXHRcdC8vIHNldCBpbWFnZVxyXG5cdFx0dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltZ1wiKS5zcmMgPSB0aGlzLl9pbWFnZTtcclxuXHRcdC8vIHNldCBhbHRcclxuXHRcdHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWdcIikuYWx0ID0gdGhpcy5fdGl0bGU7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcblx0Y29uc3RydWN0b3IoeyB1c2VyTmFtZVNlbGVjdG9yLCB1c2VySm9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcclxuXHRcdHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX3VzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XHJcblx0XHR0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcblx0fVxyXG5cclxuXHRnZXRVc2VySW5mbygpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG5cdFx0XHRqb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0c2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG5cdFx0dGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG5cdFx0dGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCA9IGpvYjtcclxuXHR9XHJcblxyXG5cdHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG5cdFx0dGhpcy5fdXNlckF2YXRhci5zcmMgPSBhdmF0YXI7XHJcblx0fVxyXG59XHJcblxyXG4vLyBUaGlzLnVzZXJuYW1lIGlzIHRoZSBzYW1lIGFzIGxpc3QtdGl0bGVcclxuLy8gVGhpcy51c2VySm9iIGlzIHRoZSBzYW1lIGFzIGxpc3Qtc3VidGl0bGVcclxuXHJcbi8vIHVzZXJuYW1lIHNlbGVjdG9yIG5lZWRzIHRvIGJlIHRoZSBzYW1lIGlzIGluZm9UaXRsZVxyXG4vLyB1c2VySm9iIHNlbGVjdG9yIG5lZWRzIHRvIGJlIHRoZSBzYW1lIGlzIGluZm9TdWJ0aXRsZVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX2hhbmRsZUtleURvd24gPSB0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyk7XHJcblx0fVxyXG5cclxuXHRfaGFuZGxlS2V5RG93bihldnQpIHtcclxuXHRcdGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcblx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19vdmVybGF5XCIpIHx8XHJcblx0XHRcdFx0ZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2UtYnRuXCIpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRvcGVuKCkge1xyXG5cdFx0dGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuXCIpO1xyXG5cdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlS2V5RG93bik7XHJcblx0fVxyXG5cclxuXHRjbG9zZSgpIHtcclxuXHRcdHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfaXMtb3BlblwiKTtcclxuXHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUtleURvd24pO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG5cdG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcclxuXHRcdHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltZ1wiKTtcclxuXHRcdHRoaXMuX2NhcHRpb24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFx0XCIubW9kYWxfX2NhcHRpb25cIlxyXG5cdFx0KS50ZXh0Q29udGVudCA9IG5hbWU7XHJcblx0XHR0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG5cdFx0dGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuXHRcdHN1cGVyLm9wZW4oKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG5cdGNvbnN0cnVjdG9yKHsgaGFuZGxlRm9ybVN1Ym1pdCwgcG9wdXBTZWxlY3RvciB9KSB7XHJcblx0XHRzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHRcdHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG5cdH1cclxuXHJcblx0X2dldElucHV0VmFsdWVzKCkge1xyXG5cdFx0Y29uc3QgdmFsdWVzID0ge307XHJcblx0XHRBcnJheS5mcm9tKHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpKS5mb3JFYWNoKFxyXG5cdFx0XHQoaW5wdXQpID0+IHtcclxuXHRcdFx0XHR2YWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHRcdHJldHVybiB2YWx1ZXM7XHJcblx0fVxyXG5cclxuXHRfaGFuZGxlU3VibWl0KCkge1xyXG5cdFx0dGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuXHR9XHJcblxyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG5cdFx0c3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHRcdHRoaXMuX3BvcHVwRWxlbWVudFxyXG5cdFx0XHQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpXHJcblx0XHRcdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGNsb3NlKCkge1xyXG5cdFx0c3VwZXIuY2xvc2UoKTtcclxuXHRcdHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIikucmVzZXQoKTtcclxuXHR9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcblx0Y29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuXHRcdHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcblx0XHR0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG5cdFx0dGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcblx0fVxyXG5cclxuXHRyZW5kZXJJdGVtcygpIHtcclxuXHRcdHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0dGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFkZEl0ZW0oZWxlbWVudCkge1xyXG5cdFx0dGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcblx0fVxyXG59XHJcblxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgaW5pdGlhbENhcmRzIGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG4vLyBpbXBvcnQgdGhlIHJlc3Qgb2YgdGhlIGphdmFzY3JpcHQgZmlsZXNcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZXMuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbi8vIGltcG9ydCB7IHNlYXJjaCB9IGZyb20gXCJjb3JlLWpzL2ZuL3N5bWJvbFwiO1xyXG5cclxuLy8gUXVlcnkgU2VsZWN0b3JzXHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGVfX2J1dHRvblwiKTtcclxuY29uc3QgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgYWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfYWRkXCIpO1xyXG5jb25zdCBlZGl0Rm9ybSA9IG1vZGFsQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgYWRkRm9ybSA9IGFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9lZGl0LXBpY1wiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbmNvbnN0IGxpc3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGlzdC10aXRsZVwiKTtcclxuY29uc3QgbGlzdFN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0LXN1YnRpdGxlXCIpO1xyXG5jb25zdCBpbWFnZVVSTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtdXJsXCIpO1xyXG5jb25zdCBhZGRUaXRsZSA9IGFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX3RpdGxlXCIpO1xyXG5jb25zdCBhZGRJbWFnZSA9IGFkZEZvcm0ucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX2ltYWdlLXVybFwiKTtcclxuY29uc3QgYWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uXCIpO1xyXG5jb25zdCBjYXJkRGVsZXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RyYXNoXCIpO1xyXG5jb25zdCBlZGl0UHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJfZWRpdFwiKTtcclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XHJcblxyXG4vLyBGdW5jdGlvbnNcclxuXHJcbi8vID8gPT09PT09PT09PT09PT09PT09PSBmZXRjaCBkYXRhIGZyb20gdGhlIHNlcnZlciA9PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBiYXNlVXJsID0gXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTExL3VzZXJzL21lXCI7XHJcbmZldGNoKGJhc2VVcmwpXHJcblxyXG5cclxuXHJcbi8vID8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyAhID09PT09PT09PT09PT09PT0gVXNlckluZm8sIHBvcHVwV2l0aEZvcm0sIFBvcHVwV2l0aEltYWdlID09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gY3JlYXRlIHRoZSBjb25zdGFudCB1c2VySW5mbyBhbmQgcGFzcyBpbiB0aGUgc2VsZWN0b3JzIG9mIGluZm9UaXRsZSBhbmQgaW5mb1N1YnRpdGxlXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuXHR1c2VyTmFtZVNlbGVjdG9yOiBcIi50aXRsZV9fbmFtZVwiLFxyXG5cdHVzZXJKb2JTZWxlY3RvcjogXCIuaW5mb19fam9iXCIsXHJcblx0YXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2F2YXRhclwiLFxyXG59KTtcclxuXHJcbi8vIGdldFVzZXJJbmZvIHNob3VsZCB0YWtlIGNhcmUgb2YgZmlsbEVkaXRGb3JtXHJcbi8vIHNldFVzZXJJbmZvIHNob3VsZCB0YWtlIGNhcmUgb2Ygc2F2ZVByb2ZpbGVcclxuXHJcbi8vIGNyZWF0ZSB0aGUgdXNlciBpbmZvIHBvcHVwXHJcbmNvbnN0IHVzZXJJbmZvUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcblx0cG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9lZGl0XCIsXHJcblx0aGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge1xyXG5cdFx0dXNlckluZm8uc2V0VXNlckluZm8oe1xyXG5cdFx0XHRuYW1lOiBsaXN0VGl0bGUudmFsdWUsXHJcblx0XHRcdGpvYjogbGlzdFN1YnRpdGxlLnZhbHVlLFxyXG5cdFx0fSk7XHJcblx0XHR1c2VySW5mb1BvcHVwLmNsb3NlKCk7XHJcblx0fSxcclxufSk7XHJcblxyXG4vLyBydW4gc2V0RXZlbnRMaXN0ZW5lcnMgb24gdGhlIHVzZXJJbmZvUG9wdXBcclxudXNlckluZm9Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gY3JlYXRlIHRoZSBjaGFuZ2UgcHJvZmlsZSBpbWFnZSBwb3B1cFxyXG5jb25zdCB1c2VySW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuXHRwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2VkaXQtcGljXCIsXHJcblx0aGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge1xyXG5cdFx0dXNlckluZm8uc2V0VXNlckF2YXRhcih7XHJcblx0XHRcdGF2YXRhcjogaW1hZ2VVUkwudmFsdWUsXHJcblx0XHR9KTtcclxuXHJcblx0XHR1c2VySW1hZ2VQb3B1cC5jbG9zZSgpO1xyXG5cdH0sXHJcbn0pO1xyXG5cclxuLy8gcnVuIHNldEV2ZW50TGlzdGVuZXJzIG9uIHRoZSB1c2VySW1hZ2VQb3B1cFxyXG51c2VySW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG5cdHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfYWRkXCIsXHJcblx0Ly8gaGFuZGxlIHNhdmluZyB0aGUgdXNlIGluZm8gZGF0YVxyXG5cdGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHtcclxuXHRcdHJlbmRlckNhcmQoe1xyXG5cdFx0XHR0aXRsZTogYWRkVGl0bGUudmFsdWUsXHJcblx0XHRcdGltYWdlOiBhZGRJbWFnZS52YWx1ZSxcclxuXHRcdH0pO1xyXG5cdFx0YWRkQ2FyZFBvcHVwLmNsb3NlKCk7XHJcblx0fSxcclxufSk7XHJcblxyXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIGVkaXRQcm9maWxlQnV0dG9uIG9wZW5zIHRoZSBwcm9maWxlXHJcblxyXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdC8vIHNldCB0aGUgdXNlciBpbmZvIGZyb20gd2hhdCBpcyBzdG9yZWQgYmVmb3JlIG9wZW5pbmcgdGhlIHBvcHVwXHJcblx0Y29uc3QgeyBuYW1lLCBqb2IgfSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcblx0bGlzdFRpdGxlLnZhbHVlID0gbmFtZTsgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgdG8gdGhlIG5hbWVcclxuXHRsaXN0U3VidGl0bGUudmFsdWUgPSBqb2I7IC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIHRoZSBqb2JcclxuXHJcblx0dXNlckluZm9Qb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gY3JlYXRlIHRoZSBhZGQgY2FyZCBwb3B1cCB1c2luZyB0aGUgUG9wdXBXaXRoSW1hZ2UgY2xhc3NcclxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5tb2RhbF90eXBlX3ByZXZpZXdcIik7XHJcblxyXG4vLyBydW4gc2V0RXZlbnRMaXN0ZW5lcnMgb24gdGhlIHBvcHVwSW1hZ2VcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8/IFRoaXMgbGluZSBtYXJrcyB0aGUgYmVnaW5uaW5nIG9mIGJ1bGxzaGl0IGNvZGUgPT09PT09PT09PT09PT09PT1cclxuLy8gLy8gd2hlbmV2ZXIgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBkZWxldGUgY2FyZCBidXR0b24sIHNob3cgdGhlIG1vZGFsX3R5cGVfZGVsZXRlLWNhcmQgcG9wdXAuIElmIHRoZSB1c2VyIGNsaWNrcyB0aGUgY2FuY2VsIGJ1dHRvbiwgY2xvc2UgdGhlIHBvcHVwLiBJZiB0aGUgdXNlciBjbGlja3MgdGhlIGNvbmZpcm0gYnV0dG9uLCBkZWxldGUgdGhlIGNhcmQgZnJvbSB0aGUgbGlzdCBhbmQgY2xvc2UgdGhlIHBvcHVwLlxyXG4vLyAvLyBUaGVuIGNyZWF0ZSBhbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGRlbGV0ZSBjYXJkIGJ1dHRvblxyXG4vLyBjYXJkRGVsZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gXHRkZWxldGVDYXJkUG9wdXAub3BlbigpO1xyXG4vLyB9KTtcclxuXHJcbi8vIC8vIGNyZWF0ZSB0aGUgZGVsZXRlIGNhcmQgcG9wdXAgdXNpbmcgdGhlIFBvcHVwV2l0aEZvcm0gY2xhc3NcclxuLy8gY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4vLyBcdHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfZGVsZXRlLWNhcmRcIixcclxuLy8gXHRoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcbi8vIFx0XHQvLyBkZWxldGUgdGhlIGNhcmRcclxuLy8gXHRcdC8vIGNsb3NlIHRoZSBwb3B1cFxyXG4vLyBcdFx0ZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbi8vIFx0fSxcclxuLy8gfSk7XHJcblxyXG4vLyAvLyBydW4gc2V0RXZlbnRMaXN0ZW5lcnMgb24gdGhlIGRlbGV0ZUNhcmRQb3B1cFxyXG4vLyBkZWxldGVDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8/IFRoZSBhYm92ZSBjb2RlIGlzIHNoaXQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyAhID09PT09PT09PT09PT09PT0gRGVsZXRlQ2FyZFBvcHVwID09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAhID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcblxyXG5cclxuLy8gYWRkIGFuIGV2ZW50bGlzdGVuZXIgdG8gdGhlIGVkaXRwcm9maWxlaW1hZ2UgYnV0dG9uLCBzbyB0aGF0IHRoZSBwcm9maWxlX19hdmF0YXIgaW1hZ2UgY2hhbmdlcyB0byB3aGF0ZXZlciBpbWFnZSBpcyBpbiB0aGUgaW5wdXRcclxuZWRpdFByb2ZpbGVJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdXNlckltYWdlUG9wdXAub3BlbigpKTtcclxuLy8gY2FyZERlbGV0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBkYWxldGVDYXJkUG9wdXAub3BlbigpKTtcclxuXHJcbi8vICEgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFNlY3Rpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIGNyZWF0ZSBhIGNvbW1vbiByZW5kZXJlciBmdW5jdGlvbiB0byBub3QgZHVwbGljYXRlIGNvZGVcclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XHJcblx0Y29uc3QgY2FyZEVsID0gbmV3IENhcmQoaXRlbSwgXCIjZWxlbWVudFRlbXBsYXRlXCIsIChkYXRhKSA9PiB7XHJcblx0XHRwb3B1cEltYWdlLm9wZW4oZGF0YSk7XHJcblx0fSkuZ2VuZXJhdGVDYXJkKCk7XHJcblx0Y2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsKTtcclxufVxyXG5cclxuLy8gaW5pdGlhbGl6ZSB0aGUgY2FyZHNcclxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXHJcblx0e1xyXG5cdFx0aXRlbXM6IGluaXRpYWxDYXJkcyxcclxuXHRcdC8vIHJlbmRlciBlYWNoIGNhcmQgdXNpbmcgdGhlIHJlbmRlckNhcmQgZnVuY3Rpb25cclxuXHRcdHJlbmRlcmVyOiAoaXRlbSkgPT4gcmVuZGVyQ2FyZChpdGVtKSxcclxuXHR9LFxyXG5cdFwiLmVsZW1lbnRzXCJcclxuKTtcclxuXHJcbi8vIHJlbmRlciB0aGUgY2FyZHNcclxuY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxuYWRkQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gYWRkQ2FyZFBvcHVwLm9wZW4oKSk7IC8vY3JlYXRlIGFuIGFkZCBwb3B1cCBjbGFzcyB3aXRoIHVzZXJpbmZvZm9ybVxyXG5cclxuLy8gQWN0aW9uc1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRpb25Db25maWcgPSB7XHJcblx0aW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuXHRzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0XCIsXHJcblx0aW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19zdWJtaXRfaW5hY3RpdmVcIixcclxuXHRpbnB1dEVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG5cdGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvbkNvbmZpZywgYWRkRm9ybSk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvbkNvbmZpZywgZWRpdEZvcm0pO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvbkNvbmZpZywgZWRpdFByb2ZpbGVGb3JtKTtcclxuZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTsiLCJjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcblx0e1xyXG5cdFx0dGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcblx0XHRpbWFnZTogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdHRpdGxlOiBcIkxha2UgTG91aXNlXCIsXHJcblx0XHRpbWFnZTogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWtlLWxvdWlzZS5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdHRpdGxlOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcblx0XHRpbWFnZTogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuXHR9LFxyXG5cdHtcclxuXHRcdHRpdGxlOiBcIkxhdGVtYXJcIixcclxuXHRcdGltYWdlOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHR0aXRsZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuXHRcdGltYWdlOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL3Zhbm9pc2UuanBnXCIsXHJcblx0fSxcclxuXHR7XHJcblx0XHR0aXRsZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG5cdFx0aW1hZ2U6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuXHR9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgaW5pdGlhbENhcmRzOyJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsIiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJpbnB1dEVsIiwidmFsaWRpdHkiLCJ2YWxpZCIsImVycm9yRWwiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJfY2hlY2tJZklucHV0VmFsaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpbm5lclRleHQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsIiwiZXZlcnkiLCJkaXNhYmxlZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXR1cEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsImNhcmQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDbGljayIsIl90aXRsZSIsInRpdGxlIiwiX2ltYWdlIiwiaW1hZ2UiLCJfaGFuZGxlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJuYW1lIiwibGluayIsIl9oYW5kbGVMaWtlIiwidG9nZ2xlIiwiX2dldFRlbXBsYXRlIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJVc2VySW5mbyIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VySm9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJBdmF0YXIiLCJqb2IiLCJhdmF0YXIiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUtleURvd24iLCJiaW5kIiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhJbWFnZSIsIl9jYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsInZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfaGFuZGxlU3VibWl0IiwicmVzZXQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImVkaXRQcm9maWxlQnV0dG9uIiwibW9kYWxDb250YWluZXIiLCJhZGRNb2RhbCIsImVkaXRGb3JtIiwiYWRkRm9ybSIsImVkaXRQcm9maWxlRm9ybSIsImxpc3RUaXRsZSIsImxpc3RTdWJ0aXRsZSIsImltYWdlVVJMIiwiYWRkVGl0bGUiLCJhZGRJbWFnZSIsImFkZENhcmQiLCJlZGl0UHJvZmlsZUltYWdlIiwiZmV0Y2giLCJ1c2VySW5mbyIsInVzZXJJbmZvUG9wdXAiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckltYWdlUG9wdXAiLCJzZXRVc2VyQXZhdGFyIiwiYWRkQ2FyZFBvcHVwIiwicmVuZGVyQ2FyZCIsImdldFVzZXJJbmZvIiwib3BlbiIsInBvcHVwSW1hZ2UiLCJjYXJkRWwiLCJkYXRhIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZHNMaXN0IiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZm9ybVZhbGlkYXRpb25Db25maWciLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==